<!-- 回答画面 -->
<div class="flex items-center justify-center min-h-screen px-4 sm:px-6 lg:px-8">
  <div class="text-center w-full max-w-md">
    <h2 class="text-2xl sm:text-3xl font-bold mb-4 text-green-500">問題に回答してください</h2>

<% problem_only = @study_challenge.response.gsub(/^正解:.*$/, "").strip %>
<div
  class="bg-green-50 p-4 rounded text-left whitespace-pre-wrap break-words overflow-auto mb-4 text-sm sm:text-base font-mono w-full leading-relaxed"
><%= problem_only %>
    </div>

    <%= form_with url: submit_answer_study_log_study_challenge_path(@study_log, @study_challenge), method: :post, local: true, html: { class: "space-y-4 w-full" } do |f| %>
      <div class="text-center">
        <p class="block font-semibold mb-2 text-sm sm:text-base text-green-500">あなたの回答を選んでください</p>

        <div class="flex flex-col items-center gap-3">
          <% choices = {
            "A" => "1つ目の選択肢の説明",
            "B" => "2つ目の選択肢の説明",
            "C" => "3つ目の選択肢の説明",
            "D" => "4つ目の選択肢の説明"
          } %>

          <% choices.each do |key, description| %>
            <label class="flex items-center gap-2 cursor-pointer">
              <%= f.radio_button :user_answer, key, required: true, class: "accent-green-500" %>
              <span class="text-sm sm:text-base">
                <strong><%= key %>.</strong> <%= description %>
              </span>
            </label>
          <% end %>
        </div>
      </div>

      <%= f.submit "回答を送信", data: { action: "click->loading#show" },class: "bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded mt-2 w-full sm:w-auto" %>
    <% end %>
  </div>
</div>
